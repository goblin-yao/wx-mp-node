const { Sequelize, DataTypes } = require("sequelize");
const { MYSQL_USERNAME, MYSQL_PASSWORD, MYSQL_ADDRESS = "" } = process.env;
const [host, port] = MYSQL_ADDRESS.split(":");
const sequelize = new Sequelize("nodejs_demo", MYSQL_USERNAME, MYSQL_PASSWORD, {
    host,
    port,
    dialect: "mysql",
});
const Counter = sequelize.define("Counter", {
    count: {
        type: DataTypes.INTEGER,
        allowNull: false,
        defaultValue: 1,
    },
});
async function init() {
    await Counter.sync({ alter: true });
}
module.exports = {
    init,
    Counter,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9vcmlnaW5fZGVtby9kYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUd0RCxNQUFNLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRSxhQUFhLEdBQUcsRUFBRSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUUzRSxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFFOUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUMsYUFBYSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUU7SUFDN0UsSUFBSTtJQUNKLElBQUk7SUFDSixPQUFPLEVBQUUsT0FBTztDQUNqQixDQUFDLENBQUM7QUFHSCxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRTtJQUMxQyxLQUFLLEVBQUU7UUFDTCxJQUFJLEVBQUUsU0FBUyxDQUFDLE9BQU87UUFDdkIsU0FBUyxFQUFFLEtBQUs7UUFDaEIsWUFBWSxFQUFFLENBQUM7S0FDaEI7Q0FDRixDQUFDLENBQUM7QUFHSCxLQUFLLFVBQVUsSUFBSTtJQUNqQixNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBR0QsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUNmLElBQUk7SUFDSixPQUFPO0NBQ1IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU2VxdWVsaXplLCBEYXRhVHlwZXMgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XG5cbi8vIOS7jueOr+Wig+WPmOmHj+S4reivu+WPluaVsOaNruW6k+mFjee9rlxuY29uc3QgeyBNWVNRTF9VU0VSTkFNRSwgTVlTUUxfUEFTU1dPUkQsIE1ZU1FMX0FERFJFU1MgPSBcIlwiIH0gPSBwcm9jZXNzLmVudjtcblxuY29uc3QgW2hvc3QsIHBvcnRdID0gTVlTUUxfQUREUkVTUy5zcGxpdChcIjpcIik7XG5cbmNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXCJub2RlanNfZGVtb1wiLCBNWVNRTF9VU0VSTkFNRSwgTVlTUUxfUEFTU1dPUkQsIHtcbiAgaG9zdCxcbiAgcG9ydCxcbiAgZGlhbGVjdDogXCJteXNxbFwiIC8qIG9uZSBvZiAnbXlzcWwnIHwgJ21hcmlhZGInIHwgJ3Bvc3RncmVzJyB8ICdtc3NxbCcgKi8sXG59KTtcblxuLy8g5a6a5LmJ5pWw5o2u5qih5Z6LXG5jb25zdCBDb3VudGVyID0gc2VxdWVsaXplLmRlZmluZShcIkNvdW50ZXJcIiwge1xuICBjb3VudDoge1xuICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgZGVmYXVsdFZhbHVlOiAxLFxuICB9LFxufSk7XG5cbi8vIOaVsOaNruW6k+WIneWni+WMluaWueazlVxuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgYXdhaXQgQ291bnRlci5zeW5jKHsgYWx0ZXI6IHRydWUgfSk7XG59XG5cbi8vIOWvvOWHuuWIneWni+WMluaWueazleWSjOaooeWei1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQsXG4gIENvdW50ZXIsXG59O1xuIl19