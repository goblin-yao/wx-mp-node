"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chatgptlib_1 = require("../../chatgptlib");
const api = new chatgptlib_1.ChatGPTAPI({
    apiKey: `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`,
});
exports.default = {
    async chat(ctx) {
        const question = ctx.request.body.question || "";
        let res = {};
        try {
            res = await api.sendMessage(question);
        }
        catch (error) {
            res.error = error;
        }
        console.log(res);
        ctx.body = res;
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmFpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29udHJvbGxlci9hcGkvb3BlbmFpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsaURBQThDO0FBRzlDLE1BQU0sR0FBRyxHQUFHLElBQUksdUJBQVUsQ0FBQztJQUN6QixNQUFNLEVBQUUscURBQXFEO0NBRTlELENBQUMsQ0FBQztBQUVILGtCQUFlO0lBQ2IsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFZO1FBQ3JCLE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUM7UUFHakQsSUFBSSxHQUFHLEdBQVEsRUFBRSxDQUFDO1FBQ2xCLElBQUk7WUFDRixHQUFHLEdBQUcsTUFBTSxHQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3ZDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztTQUNuQjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFlakIsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFRakIsQ0FBQztDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcImtvYVwiO1xuaW1wb3J0IHsgQ2hhdEdQVEFQSSB9IGZyb20gXCIuLi8uLi9jaGF0Z3B0bGliXCI7XG5cbi8vIGNvbnN0IGFwaSA9IG5ldyBDaGF0R1BUQVBJKHsgYXBpS2V5OiBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB9KTtcbmNvbnN0IGFwaSA9IG5ldyBDaGF0R1BUQVBJKHtcbiAgYXBpS2V5OiBgc2stZURBWkZjTDZNMEdBdUFDTm42WW9UM0JsYmtGSld6a3lsTEc5VEl6UlhEN1d2M3cyYCwgLy8gam9uYXNcbiAgLy8gYXBpS2V5OmBzay1jNXRmZDQwOWR6ekZrRkJRWjhoZVQzQmxia0ZKT2RTMHJWNVZqV1RWbjBBbkR4bHJgLCAvL2FsZXhcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzeW5jIGNoYXQoY3R4OiBDb250ZXh0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBjdHgucmVxdWVzdC5ib2R5LnF1ZXN0aW9uIHx8IFwiXCI7XG5cbiAgICAvLyBzZW5kIGEgbWVzc2FnZSBhbmQgd2FpdCBmb3IgdGhlIHJlc3BvbnNlXG4gICAgbGV0IHJlczogYW55ID0ge307XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IGF3YWl0IGFwaS5zZW5kTWVzc2FnZShxdWVzdGlvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhyZXMpO1xuXG4gICAgLy8gc2VuZCBhIGZvbGxvdy11cFxuICAgIC8vIHJlcyA9IGF3YWl0IGFwaS5zZW5kTWVzc2FnZSgnQ2FuIHlvdSBleHBhbmQgb24gdGhhdD8nLCB7XG4gICAgLy8gICBjb252ZXJzYXRpb25JZDogcmVzLmNvbnZlcnNhdGlvbklkLFxuICAgIC8vICAgcGFyZW50TWVzc2FnZUlkOiByZXMuaWQsXG4gICAgLy8gfSk7XG4gICAgLy8gY29uc29sZS5sb2cocmVzLnRleHQpO1xuXG4gICAgLy8gc2VuZCBhbm90aGVyIGZvbGxvdy11cFxuICAgIC8vIHJlcyA9IGF3YWl0IGFwaS5zZW5kTWVzc2FnZSgnV2hhdCB3ZXJlIHdlIHRhbGtpbmcgYWJvdXQ/Jywge1xuICAgIC8vICAgY29udmVyc2F0aW9uSWQ6IHJlcy5jb252ZXJzYXRpb25JZCxcbiAgICAvLyAgIHBhcmVudE1lc3NhZ2VJZDogcmVzLmlkLFxuICAgIC8vIH0pO1xuICAgIC8vIGNvbnNvbGUubG9nKHJlcy50ZXh0KTtcbiAgICBjdHguYm9keSA9IHJlcztcbiAgICAvLyBjb25zdCBuYW1lID0gY3R4LnJlcXVlc3QuYm9keS5uYW1lIHx8IFwiXCI7XG4gICAgLy8gY29uc3QgcGFzc3dvcmQgPSBjdHgucmVxdWVzdC5ib2R5LnBhc3N3b3JkIHx8IFwiXCI7XG4gICAgLy8gY29uc3QgdXNlciA9IHtcbiAgICAvLyAgIG5hbWU6IFwibHVjaW9cIixcbiAgICAvLyAgIGlkOiAxLFxuICAgIC8vIH07XG4gICAgLy8gY3R4LmJvZHkgPSB1c2VyO1xuICB9LFxufTtcbiJdfQ==